
<html>

<body>
	<form action="/email_post" method="post">
          email: <input type="text" name="email"><br>
          name: <input type="text" name="name">
		submit:<input type="submit">
     </form>
     
     <button class="ajaxSend">ajaxSend</button>

     <script>

     document.querySelector('.ajaxSend').addEventListener('click', function()
     {
          var inputdata = document.forms[0].elements[0].value;
          var inputdata2 = document.forms[0].elements[1].value;
          sendAjax('http://localhost:5000/ajax_send_email', inputdata, inputdata2);
     })

     function sendAjax(url, data1, data2)
     {
          var data = {'email' : data1, 'name':data2};
          data = JSON.stringify(data);

          var xhr = new XMLHttpRequest();
          xhr.open('POST', url)

          xhr.setRequestHeader('Content-Type','application/json');
          xhr.send(data);
          xhr.addEventListener('load', function(){
               var result=  JSON.parse(xhr.responseText);
               
               document.querySelector(".result").innerHTML= result.email;
          })
     }

     </script>

     <div class="result"></div>
</body>
</html>